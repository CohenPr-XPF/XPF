# Malayalam Rule Set
# Written by: Becky
# Edited by: Emily
# Last Updated: 2020-06-15
type,sfrom,sto,weight,precede,follow,comment
# Class rules
## Consonants
class,Gem,(p|t̪|ʈ|tʃ|k|m|n̪|n|ɳ|ɲ|ŋ|l|ɭ),,,,
class,KA,ക,,,,
class,KHA,ഖ,,,,
class,GA,ഗ,,,,
class,GHA,ഘ,,,,
class,NGA,ങ,,,,
class,CA,ച,,,,
class,CHA,ഛ,,,,
class,JA,ജ,,,,
class,JHA,ഝ,,,,
class,NYA,ഞ,,,,
class,TTA,ട,,,,"voiceless retroflex unaspirated stop",
class,TTHA,ഠ,,,,"voiceless retroflex aspirated stop",
class,DDA,ഡ,,,,"voiced retroflex unaspirated stop",
class,DDHA,ഢ,,,,"voiced retroflex murmured stop",
class,NNA,ണ,,,,"retroflex nasal",
class,TA,ത,,,,"voiceless dental unaspirated stop",
class,THA,ഥ,,,,"voiceless dental aspirated stop",
class,DA,ദ,,,,"voiced dental unaspirated stop",
class,DHA,ധ,,,,"voiced dental murmured stop",
class,NA,ന,,,,
class,NNNA,ഩ,,,,
class,PA,പ,,,,
class,PHA,ഫ,,,,
class,BA,ബ,,,,
class,BHA,ഭ,,,,
class,MA,മ,,,,
class,YA,യ,,,,
class,RA,ര,,,,
class,RRA,റ,,,,
class,LA,ല,,,,
class,LLA,ള,,,,"retroflex lateral approximant",
class,LLLA,ഴ,,,,"retroflex approximant",
class,VA,വ,,,,
class,SHA,ശ,,,,
class,SSA,ഷ,,,,
class,SA,സ,,,,
class,HA,ഹ,,,,
## Word-Initial Vowels
class,A,അ,,,,
class,AA,ആ,,,,
class,I,ഇ,,,,
class,II,ഈ,,,,
class,U,ഉ,,,,
class,UU,ഊ,,,,
class,E,എ,,,,
class,EE,ഏ,,,,
class,AI,ഐ,,,,
class,O,ഒ,,,,
class,OO,ഓ,,,,
class,AU,ഔ,,,,
## Diacritics
class,DIACRITICAA,ാ,,,,
class,DIACRITICI,ി,,,,
class,DIACRITICII,ീ,,,,
class,DIACRITICU,ു,,,,
class,DIACRITICUU,ൂ,,,,
class,DIACRITICE,െ,,,,
class,DIACRITICEE,േ,,,,
class,DIACRITICAI,ൈ,,,,
class,DIACRITICO,ൊ,,,,
class,DIACRITICOO,ോ,,,,
class,DIACRITICAU,(ൌ|ൗ),,,,
class,VIRAMA,്,,,,"deletes the inherent /a/",
class,ANUSVARA,(ം|൦),,,,"/m/ word-finally",
class,VISARGA,ഃ,,,,"/h/ word-finally",
## Consonants (No Inherent Vowel)
class,CHILLUNN,ൺ,,,,
class,CHILLUN,(ൻ|൯),,,,
class,CHILLURR,(ർ|൪),,,,
class,CHILLUL,ൽ,,,,
class,CHILLULL,ൾ,,,,
class,CHILLUK,ൿ,,,,
# Sub Rules
## Misc. Rules
sub,‌,,1,,,removing zero width non joiner
sub,‍,,1,,,removing zero width joiner
## Consonants
sub,{KA},k a,1,,,
sub,{KHA},kʰ a,1,,,
sub,{GA},ɡ a,1,,,
sub,{GHA},ɡʱ a,1,,,
sub,{NGA},ŋ a,1,,,
sub,{CA},tʃ a,1,,,
sub,{CHA},tʃʰ a,1,,,
sub,{JA},ɟ a,1,,,
sub,{JHA},ɟʱ a,1,,,
sub,{NYA},ɲ a,1,,,
sub,{TTA},ʈ a,1,,,
sub,{TTHA},ʈʰ a,1,,,
sub,{DDA},ɖ a,1,,,
sub,{DDHA},ɖʱ a,1,,,
sub,{NNA},ɳ a,1,,,
sub,{TA},t̪ a,1,,,
sub,{THA},t̪ʰ a,1,,,
sub,{DA},d̪ a,1,,,
sub,{DHA},d̪ʱ a,1,,,
sub,{NA},n̪ a,1,,,
sub,{NNNA},n a,1,,,
sub,{PA},p a,1,,,
sub,{PHA},pʰ a,1,,,
sub,{BA},b a,1,,,
sub,{BHA},bʱ a,1,,,
sub,{MA},m a,1,,,
sub,{YA},j a,1,,,
sub,{RA},ɾ a,1,,,
sub,{RRA},r a,1,,,
sub,{LA},l a,1,,,
sub,{LLA},ɭ a,1,,,
sub,{LLLA},ɻ a,1,,,
sub,{VA},ʋ a,1,,,
sub,{SHA},ʃ a,1,,,
sub,{SSA},ʂ a,1,,,
sub,{SA},s a,1,,,
sub,{HA},h a,1,,,
## Word-Initial Vowels
sub,{A},a,1,,,
sub,{AA},a ː,1,,,
sub,{I},i,1,,,
sub,{II},i ː,1,,,
sub,{U},u,1,,,
sub,{UU},u ː,1,,,
sub,{E},e,1,,,
sub,{EE},e ː,1,,,
sub,{AI},ai,1,,,
sub,{O},o,1,,,
sub,{OO},o ː,1,,,
sub,{AU},au,1,,,
## Diacritics
sub,{DIACRITICAA},ERASE a ː,1,,,
sub,{DIACRITICI},ERASE i,1,,,
sub,{DIACRITICII},ERASE i ː,1,,,
sub,{DIACRITICU},ERASE u,1,,,
sub,{DIACRITICUU},ERASE u ː,1,,,
sub,{DIACRITICE},ERASE e,1,,,
sub,{DIACRITICEE},ERASE e ː,1,,,
sub,{DIACRITICAI},ERASE ai,1,,,
sub,{DIACRITICO},ERASE o,1,,,
sub,{DIACRITICOO},ERASE o ː,1,,,
sub,{DIACRITICAU},ERASE au,1,,,
sub,{VIRAMA},ERASE,1,,,
sub,{ANUSVARA},m,1,,,,
sub,{VISARGA},h,1,,,,
sub,{DIACRITICU},ERASE u,3,,{VIRAMA},"accounts for the predictable reduction of /u/",
sub,{VIRAMA},,2,{DIACRITICU},,"clean-up",
# Consonants (No Inherent Vowel)
sub,{CHILLUNN},ɳ,1,,,
sub,{CHILLUN},n̪,1,,,
sub,{CHILLURR},r,1,,,
sub,{CHILLUL},l,1,,,
sub,{CHILLULL},ɭ,1,,,
sub,{CHILLUK},k,1,,,
# ipasub Rules
ipasub,e ː ERASE a ː,o ː,2,,,"/ea/ (long) to /o/ - two diacritics compose this phoneme",
ipasub,e ERASE a ː,o,2,,,"changes /ea/ to /o/ - two diacritics compose this phoneme",
ipasub,a ERASE,,1,,,"removes the inherent vowel when inflected by another vowel",
ipasub,({Gem}) a ERASE \1,\1 ː,3,,,"consonant gemination",
ipasub,({Gem}) a ERASE \1ʰ,\1ʰ ː,3.5,,,"fixes gemination rule",
ipasub,({Gem}) a ERASE \1ʱ,\1ʱ ː,3.5,,,"fixes gemination rule",
ipasub,r a ERASE r,ʈ ː,4,,,"fixes gemination - exception",
# Misc. Rules
ipasub,ERASE,@,0.5,,,"accounts for unattested combos",
ipasub, ːʰ, @,1,,,"accounts for unattested aspiration (3 instances)",
